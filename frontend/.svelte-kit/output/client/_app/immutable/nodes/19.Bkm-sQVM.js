import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{o as Z}from"../chunks/CpWiCzCL.js";import{a as ee,aa as r,f as te,d as E,m as l,b as ae,a7 as a,V as v,o as n,a9 as s}from"../chunks/DCkW3Mu1.js";import{e as se,s as i}from"../chunks/DrSB0OLp.js";import{i as re}from"../chunks/Bht1pefN.js";import{f as B,a as M}from"../chunks/BOH49W78.js";import{s as O,r as U}from"../chunks/Cje3Gi54.js";import{b as V}from"../chunks/DqSjqjGX.js";import{i as oe}from"../chunks/Dm1SwslI.js";import{s as le,a as ie}from"../chunks/UkXSlYdl.js";import{$ as ne}from"../chunks/CoNcDfu4.js";import{g as f}from"../chunks/BZBvpKRS.js";import{i as ue,g as j,a as me}from"../chunks/DfDDuOYg.js";var pe=B('<p class="error svelte-1x05zx6"> </p>'),ce=B('<div class="menu-logo svelte-1x05zx6"><a href="/" class="svelte-1x05zx6"><img src="/logo.png" alt="Logo Olympique PoznaÅ„" class="logo svelte-1x05zx6"/></a></div> <section class="login-page svelte-1x05zx6"><div class="login-card svelte-1x05zx6"><h1 class="svelte-1x05zx6"> </h1> <form><label class="svelte-1x05zx6"> <input type="text" required class="svelte-1x05zx6"/></label> <label class="svelte-1x05zx6"> <input type="password" required class="svelte-1x05zx6"/></label> <!> <button type="submit" class="svelte-1x05zx6"> </button></form> <p class="register-link svelte-1x05zx6"> <a href="/register" class="svelte-1x05zx6"> </a></p></div></section>',1);function Pe(F,G){ee(G,!1);const t=()=>ie(ne,"$_",H),[H,I]=le();let x=v(""),g=v(""),u=v(!1),m=v("");Z(()=>{ue()&&(j()?.role==="admin"?f("/admin"):f("/"))});async function J(e){e.preventDefault(),n(u,!0),n(m,"");try{(await me(l(x),l(g))).success&&(j()?.role==="admin"?f("/admin"):f("/"))}catch(o){n(m,t()("auth.login.error")),console.error("Erreur login:",o)}finally{n(u,!1)}}oe();var y=ce(),w=r(te(y),2),q=a(w),d=a(q),K=a(d,!0);s(d);var p=r(d,2),h=a(p),A=a(h),_=r(A);U(_),s(h);var b=r(h,2),P=a(b),z=r(P);U(z),s(b);var k=r(b,2);{var N=e=>{var o=pe(),c=a(o,!0);s(o),E(()=>i(c,l(m))),M(e,o)};re(k,e=>{l(m)&&e(N)})}var $=r(k,2),Q=a($,!0);s($),s(p);var L=r(p,2),C=a(L),D=r(C),R=a(D,!0);s(D),s(L),s(q),s(w),E((e,o,c,S,T,W,X,Y)=>{i(K,e),i(A,`${o??""} `),O(_,"placeholder",c),i(P,`${S??""} `),O(z,"placeholder",T),$.disabled=l(u),i(Q,W),i(C,`${X??""} `),i(R,Y)},[()=>t()("auth.login.title"),()=>t()("auth.login.username"),()=>t()("auth.login.usernamePlaceholder"),()=>t()("auth.login.password"),()=>t()("auth.login.passwordPlaceholder"),()=>l(u)?t()("auth.login.loading"):t()("auth.login.submit"),()=>t()("auth.login.noAccount"),()=>t()("auth.login.createAccount")]),V(_,()=>l(x),e=>n(x,e)),V(z,()=>l(g),e=>n(g,e)),se("submit",p,J),M(F,y),ae(),I()}export{Pe as component};
