import{g as c,a as i}from"./Cje3Gi54.js";const u=!0,h=u,l="http://localhost:5000/api";async function p(n,o={}){const s=`${l}${n}`,r=c(),a={...o,headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{},...o.headers||{}}};try{const e=await fetch(s,a),t=await e.json();if(e.status===401)throw h&&(i(),window.location.href="/login"),new Error("Session expir√©e. Veuillez vous reconnecter.");if(!e.ok)throw new Error(t.message||"Une erreur est survenue");return t}catch(e){throw console.error("Erreur API:",e),e}}export{p as a};
